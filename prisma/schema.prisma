datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

// категории
model Category {
  id     Int    @id @default(autoincrement())
  name   String
  images String
}

model TopGenre {
  id     Int    @id @default(autoincrement())
  name   String
  images String
}

model Treanding {
  id    Int    @id @default(autoincrement())
  image String
  time  String
  views String
}

model Release {
  id       Int    @id @default(autoincrement())
  image    String
  released String
}

// пользователь
model User {
  id       String @id @default(uuid())
  role     String @default("user")
  nickname String
  email    String @unique
  password String
  age      Int
  country  String
  image    String @default("/userAvatars/defaultAvatar.png")
}

// фильмы
model Movie {
  id          Int        @id @default(autoincrement())
  title       String
  description String
  cover       String?
  releaseYear Int
  genres      Genre[] // мэни ту мэни с жанрами
  languages   Language[] // мэни ту мэни с языками
  videos      Video[]
}

model Genre {
  id     Int     @id @default(autoincrement())
  name   String  @unique
  movies Movie[] // мэни ту мэни с фильмами
}

model Language {
  id     Int     @id @default(autoincrement())
  name   String  @unique
  movies Movie[] // так же мэни ту мэни с фильмами
}

model Video {
  id      Int    @id @default(autoincrement())
  quality String
  url     String
  movieId Int
  movie   Movie  @relation(fields: [movieId], references: [id])
}
